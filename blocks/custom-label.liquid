{{ 'custom-label.css' | asset_url | stylesheet_tag }}

{% liquid
  assign text = block.settings.text
  assign link = block.settings.link
  assign as_link = false
  if link != blank
    assign as_link = true
  endif
%}

{% if text != blank %}
  {% if as_link %}
    <a
      class="tk-custom-label"
      href="{{ link }}"
      style="
        --tk-label-text: {{ block.settings.text_color }};
        --tk-label-bg: {{ block.settings.bg_color }};
        --tk-label-bg-hover: {{ block.settings.hover_bg_color }};
        --tk-label-border: {{ block.settings.border_color }};
      "
      {{ block.shopify_attributes }}
    >
      {{ text }}
    </a>
  {% else %}
    <span
      class="tk-custom-label"
      style="
        --tk-label-text: {{ block.settings.text_color }};
        --tk-label-bg: {{ block.settings.bg_color }};
        --tk-label-bg-hover: {{ block.settings.hover_bg_color }};
        --tk-label-border: {{ block.settings.border_color }};
      "
      {{ block.shopify_attributes }}
    >
      {{ text }}
    </span>
  {% endif %}
{% endif %}

{% schema %}
{
  "name": "Custom label",
  "settings": [
    {
      "type": "text",
      "id": "text",
      "label": "Text",
      "default": "Label"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Link"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "hover_bg_color",
      "label": "Hover background color",
      "default": "#f2f2f2"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border color",
      "default": "#000000"
    }
  ],
  "presets": [
    {
      "name": "Custom label"
    }
  ]
}
{% endschema %}
